% Meridian 59, Copyright 1994-2012 Andrew Kirmse and Chris Kirmse.
% All rights reserved.
%
% This software is distributed under a license that is described in
% the LICENSE file that accompanies it.
%
% Meridian is a registered trademark.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Falchion is SlashingWeapon

constants:

   include blakston.khd

resources:

   falchion_name_rsc = "falchion"
   falchion_icon_rsc = scimitar.bgf
   falchion_desc_rsc = \
      "This short yet sturdy blade can slice its way through "
      "more than just brambles.  It feels light and balanced in your hand.  "
		"It is a favorite among thugs to finish off a weakened target from behind."

   falchion_window_overlay_rsc = povscim.bgf
   falchion_player_overlay = scimov.bgf
	
	cutthroat_worked = "With a quick step, you slip behind %s%s's back to finish %s off!"
	cutthroat_target = "Before you realize what has happened, %s%s has slipped behind your back to finish you off. Your vision dims..."

classvars:
   vrName = falchion_name_rsc
   vrIcon = falchion_icon_rsc
   vrDesc = falchion_desc_rsc

   % Falchions are low quality slashing weapons
   viWeaponQuality = WEAPON_QUALITY_NORMAL

   viProficiency_Needed = SKID_PROFICIENCY_FALCHION

   viValue_average = 150
   viWeight = 50
   viBulk = 40

   vrWeapon_window_overlay = falchion_window_overlay_rsc
   vrWeapon_overlay = falchion_player_overlay

   viGround_group = 1
   viInventory_group = 3
   viBroken_group = 2

properties:

   piAttack_type = ATCK_WEAP_NONMAGIC+ATCK_WEAP_SLASH

messages:

	DoCutThroat(victim=$)
	{
		send(poOwner,@MsgSendUser,#message_rsc=cutthroat_worked,#parm1=send(victim,@GetDef),#parm2=send(victim,@GetName),#parm3=send(victim,@GetHimHer));
		
		if IsClass(victim,&player)
		{
			send(victim,@MsgSendUser,#message_rsc=cutthroat_target,#parm1=send(poOwner,@GetDef),#parm2=send(poOwner,@GetName));
		}
		
		return;
	}


end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



